<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:ng="http://docbook.org/docbook-ng">group</title><link rel="stylesheet" type="text/css" href="schematron4.css"><meta xmlns:ng="http://docbook.org/docbook-ng" name="generator" content="DocBook XSL Stylesheets V1.79.2"><link rel="home" href="index.html" title="What's New In Schematron 4"><link rel="up" href="pt02.html" title="New elements"><link rel="prev" href="pt02.html" title="New elements"><link rel="next" href="ch08.html" title="library"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><code class="sgmltag-element">group</code></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pt02.html">Prev</a>&nbsp;</td><th width="60%" align="center">New elements</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch08.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="d5e288"></a><code class="sgmltag-element">group</code></h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="ch07.html#d5e305">Declaration</a></span></dt><dt><span class="section"><a href="ch07.html#d5e313">Related GitHub issue(s)</a></span></dt><dt><span class="section"><a href="ch07.html#d5e317">Sample usage</a></span></dt><dt><span class="section"><a href="ch07.html#d5e334">Commentary</a></span></dt></dl></div><p>This element has the same content model as element <code class="sgmltag-element">pattern</code>. Patterns and groups may be combined in a schema.</p><div class="blockquote"><a name="group-elem"></a><blockquote class="blockquote"><div class="blockquote-title"><p><b>Clause 5.4.5 (<code class="literal">group</code> element)</b></p></div><p>The <code class="literal">group</code> element has the same structure and semantics as element pattern[...], except that the if-then-else behaviour of evaluating rules within a pattern shall not apply (see <a class="link" href="ch07.html#order-side-effects" title="Clause 6.6 Order and side-effects">6.6</a>).</p></blockquote></div><div class="blockquote"><a name="order-side-effects"></a><blockquote class="blockquote"><div class="blockquote-title"><p><b>Clause 6.6 Order and side-effects</b></p></div><p>A <code class="literal">rule</code> element acts as an if-then-else statement within each pattern. In the context of a <code class="literal">group</code> element (<a class="link" href="ch07.html#group-elem" title="Clause 5.4.5 (group element)">5.4.5</a>), this behaviour shall not apply and a match shall be attempted instead against all the rule contexts it contains.</p></blockquote></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e305"></a>Declaration</h2></div></div></div><pre class="programlisting">element schema {
        attribute id { xsd:ID }?,
        rich,
        attribute schemaVersion { non-empty-string }?,
        attribute schematronEdition { non-empty-string }?,
        attribute defaultPhase { xsd:IDREF }?,
        attribute queryBinding { non-empty-string }?,
        (foreign
         &amp; (inclusion | extends)*
         &amp; (title?, ns*, p*, param*, let*, phase*, abstract-rules*, (<span class="highlight">rule-set</span>|pattern)+, p*, diagnostics?, properties?))
    }</pre><pre class="programlisting">element library {
        attribute id { xsd:ID }?,
        rich,
        (foreign
         &amp; (inclusion | extends)*
         &amp; (title?, p*, param*, let*, abstract-rules*, (<span class="highlight">rule-set</span>|pattern)*, p*, diagnostics?, properties?))
    }</pre><pre class="programlisting">rule-set = 
    element <span class="highlight">group</span> {
        rule-set-or-pattern    
    }</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e313"></a>Related GitHub issue(s)</h2></div></div></div><p><a class="link" href="https://github.com/Schematron/schematron-enhancement-proposals/issues/25" target="_top">Option to turn off if-then-else behaviour within patterns</a></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e317"></a>Sample usage</h2></div></div></div><div class="example"><a name="group-elem-example"></a><p class="title"><b>Example&nbsp;9.&nbsp;<code class="literal">group</code> element</b></p><div class="example-contents"><p>Given this instance document:</p><pre class="programlisting"><strong class="hl-tag" style="color: #000096">&lt;foo/&gt;</strong></pre><p>and this schema:</p><pre class="programlisting"><strong class="hl-tag" style="color: #000096">&lt;sch:schema&gt;</strong>
  <span class="highlight">&lt;sch:group&gt;</span>
    <strong class="hl-tag" style="color: #000096">&lt;sch:rule</strong> <span class="hl-attribute" style="color: #F5844C">context</span>=<span class="hl-value" style="color: #993300">'*'</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;sch:assert</strong> <span class="hl-attribute" style="color: #F5844C">test</span>=<span class="hl-value" style="color: #993300">'name() eq "bar"'</span><strong class="hl-tag" style="color: #000096">&gt;</strong>root element is <strong class="hl-tag" style="color: #000096">&lt;sch:name/&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;/sch:assert&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/sch:rule&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;sch:rule</strong> <span class="hl-attribute" style="color: #F5844C">context</span>=<span class="hl-value" style="color: #993300">'foo'</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;sch:report</strong> <span class="hl-attribute" style="color: #F5844C">test</span>=<span class="hl-value" style="color: #993300">'.'</span><strong class="hl-tag" style="color: #000096">&gt;</strong>should reach here<strong class="hl-tag" style="color: #000096">&lt;/sch:report&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/sch:rule&gt;</strong>
  <span class="highlight">&lt;/sch:group&gt;</span>
<strong class="hl-tag" style="color: #000096">&lt;/sch:schema&gt;</strong></pre><p><span class="emphasis"><em>both</em></span> rules will fire and their assertions will be evaluated, because within the context of a <code class="sgmltag-element">group</code>, all rules are evaluated. Contrast this with <code class="sgmltag-element">pattern</code>: in this instance, only the <span class="emphasis"><em>first</em></span> rule would fire (if a child of <code class="sgmltag-element">pattern</code>), because the context has already been matched when the second rule's context is evaluated.</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e334"></a>Commentary</h2></div></div></div><p>This element gives the option to have <span class="emphasis"><em>all</em></span> rules evaluated regardless, addressing one of the commonest issues faced by schema authors.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pt02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">New elements&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;<code class="sgmltag-element">library</code></td></tr></table></div></body></html>